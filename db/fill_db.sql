INSERT INTO users (telegram_id, username, first_name, last_name) VALUES
(123456789, 'john_doe', 'Иван', 'Иванов'),
(987654321, 'jane_doe', 'Мария', 'Петрова'),
(456789123, 'cool_user', 'Алексей', 'Смирнов'),
(654123987, 'happy_cat', 'Ольга', 'Кузнецова'),
(112233445, 'mystery_man', 'Дмитрий', 'Попов');

--Заполнение таблицы restaurants (3 ресторана)
INSERT INTO restaurants (name, description, address, phone) VALUES
('Итальянская кухня "Песто"', 'Лучшие блюда традиционной итальянской кухни.', 'г. Москва, ул. Тверская, д. 25', '+7 (495) 123-45-67'),
('Суши-бар "Сакура"', 'Свежие суши и роллы с доставкой.', 'г. Санкт-Петербург, Невский пр., д. 15', '+7 (812) 987-65-43'),
('Кафе "Домашний уголок"', 'Домашняя кухня для всей семьи.', 'г. Казань, ул. Баумана, д. 10', '+7 (843) 333-55-22');
--Заполнение таблицы categories (по 3–6 категорий на ресторан)
-- Для ресторана "Песто" (id 1)
INSERT INTO categories (name, description, restaurant_id) VALUES
('Пицца', 'Настоящая итальянская пицца.', 1),
('Паста', 'Традиционные итальянские макароны.', 1),
('Закуски', 'Лёгкие закуски к вашему столу.', 1),
('Десерты', 'Сладкие лакомства из Италии.', 1);

-- Для ресторана "Сакура" (id 2)
INSERT INTO categories (name, description, restaurant_id) VALUES
('Роллы', 'Роллы с начинками на любой вкус.', 2),
('Суши', 'Традиционные японские суши.', 2),
('Супы', 'Японские мисо и рамен.', 2),
('Напитки', 'Японский чай и другие напитки.', 2);

-- Для ресторана "Домашний уголок" (id 3)
INSERT INTO categories (name, description, restaurant_id) VALUES
('Супы', 'Горячие домашние супы.', 3),
('Горячие блюда', 'Традиционные кухня с домашним вкусом.', 3),
('Закуски', 'Лёгкие перекусы и салаты.', 3),
('Напитки', 'Чай, кофе и компоты.', 3),
('Десерты', 'Домашние сладости и выпечка.', 3);
--Заполнение таблицы dishes (200 блюд, распределённых между ресторанами и категориями)
--Вот несколько примеров, как можно заполнить записи для блюд (SQL-запросы реструктурированы для читаемости).

Блюда для ресторана "Песто" (пример 70 блюд)
-- Категория "Пицца" (id 1)
INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Маргарита', 'Классическая пицца с томатным соусом и сыром.', 450.00, 1, 1),
('Пепперони', 'Острая пицца с пепперони и сыром.', 500.00, 1, 1),
('Четыре сыра', 'Пицца с голубым сыром, моцареллой, пармезаном и горгондзолой.', 550.00, 1, 1);

-- Категория "Паста" (id 2)
INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Карбонара', 'Паста с беконом в сливочном соусе.', 400.00, 2, 1),
('Болоньезе', 'Паста с мясным соусом болоньезе.', 420.00, 2, 1),
('Лазанья', 'Итальянская лазанья с мясной начинкой.', 600.00, 2, 1);

-- Категория "Закуски" (id 3)
INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Брускетта с помидорами', 'Обжаренный хлеб с томатами и базиликом.', 300.00, 3, 1),
('Оливки', 'Солёные оливки с пряностями.', 250.00, 3, 1);

-- Категория "Десерты" (id 4)
INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Тирамису', 'Традиционный итальянский десерт.', 280.00, 4, 1),
('Канноли', 'Сицилийская трубочка с рикоттой.', 320.00, 4, 1);
--Блюда для ресторана "Сакура" (пример 70 блюд)
-- Категория "Роллы" (id 5)
INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Калифорния', 'Ролл с крабовым мясом и авокадо.', 500.00, 5, 2),
('Филадельфия', 'Ролл с красной рыбой и сливочным сыром.', 550.00, 5, 2);

-- Категория "Суши" (id 6)
INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Суши с лососем', 'Суши с филе свежего лосося.', 150.00, 6, 2),
('Суши с тунцом', 'Суши с тунцом.', 180.00, 6, 2);

-- Категория "Супы" (id 7)
INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Рамен', 'Японский суп с лапшой и мясом.', 400.00, 7, 2),
('Мисо', 'Классический японский суп с тофу и вакамэ.', 350.00, 7, 2);

INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Сенча', 'Зеленый японский чай в чайнике ', 400.00, 8, 2),
('Ассам', 'Черный чай в чайнике', 250.00, 8, 2),
('Пиво', 'Пиво Asаhi баночное', 300.00, 8, 2);


--Блюда для ресторана "Домашний уголок" (пример 60 блюд)
-- Категория "Супы" (id 8)
INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Борщ', 'Традиционный борщ со сметаной.', 250.00, 9, 3),
('Рассольник', 'Горячий рассольник с перловкой.', 230.00, 9, 3);
INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Котлеты', 'Котлеты из говядины и свинины с пюре.', 270.00, 10, 3);
INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Пельмени', 'Пельмени 20 шт со сметаной.', 400.00, 10, 3);
INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Чай', 'Чай в чайнике.', 150.00, 12, 3),
INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Пиво', 'Пиво Heineken разливное', 190.00, 12, 3);

INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Капуста', 'Капуста квашенная c яблоками по домашнемиу рецепту', 150.00, 11, 3),
('Оливье', 'Традиционный салат с майонезом', 250.00, 11, 3);

-- Категория "Десерты" (id 9)
INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Шарлотка', 'Классическая шарлотка с яблоками.', 200.00, 13, 3),
('Медовик', 'Домашний торт с медом.', 220.00, 13, 3);

INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Гавайская', 'Пицца с курицей, ананасами и сыром.', 480.00, 1, 1),
('Диабло', 'Острая пицца с пепперони, халапеньо и перцем чили.', 520.00, 1, 1),
('Мясная', 'Пицца с разными видами мяса и сыром.', 600.00, 1, 1),
('Капричоза', 'Томатный соус, ветчина, грибы и артишоки.', 550.00, 1, 1),
('Маринара', 'Томатный соус, чеснок, орегано.', 450.00, 1, 1),
('Овощная', 'Пицца с ассорти из свежих овощей.', 430.00, 1, 1),
('Моцарелла', 'Пицца со свежей моцареллой и базиликом.', 470.00, 1, 1),
('Тартуфо', 'Пицца с трюфельным маслом и сыром.', 650.00, 1, 1),
('Дьябло-Бекон', 'Комбинация бекона, острого соуса и перцев.', 590.00, 1, 1),
('Пицца с морепродуктами', 'Креветки, кальмары, мидии и белое вино.', 750.00, 1, 1);

INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Паста с грибами', 'Домашняя паста с шампиньонами в сливочном соусе.', 480.00, 2, 1),
('Пенне с вялеными томатами', 'Классическая паста с нежным соусом.', 520.00, 2, 1),
('Фетучини Альфредо', 'Паста с курицей в сливочном соусе.', 490.00, 2, 1),
('Паста с морепродуктами', 'Креветки, кальмары в белом соусе.', 580.00, 2, 1),
('Орекьетте с беконом', 'Итальянская паста с беконом и травами.', 460.00, 2, 1),
('Спагетти с томатным соусом', 'Простая и вкусная паста.', 430.00, 2, 1),
('Тальятелле Болоньезе', 'Классический соус болоньезе с пастой.', 500.00, 2, 1),
('Гнокки с сырным соусом', 'Картофельные клецки в сливочном сырном соусе.', 470.00, 2, 1),
('Паста с чернилами каракатицы', 'Оригинальная паста с насыщенным вкусом.', 610.00, 2, 1),
('Ригатони с соусом из шпината', 'Паста с соусом из свежего шпината.', 450.00, 2, 1);

INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Кепресе', 'Свежие томаты, моцарелла и базилик.', 300.00, 3, 1),
('Овощной антре', 'Ассорти из свежих овощей с соусом.', 320.00, 3, 1),
('Гарлик Брэд', 'Обжаренные чесночные булочки.', 200.00, 3, 1),
('Фокачча', 'Итальянский хлеб с оливковым маслом.', 240.00, 3, 1),
('Артишоки', 'Жареные артишоки в масле.', 400.00, 3, 1),
('Оливки с сыром', 'Оливки, фаршированные сыром.', 250.00, 3, 1),
('Тартар из тунца', 'Свежий тунец с соусом на крекере.', 550.00, 3, 1),
('Карпаччо из говядины', 'Тонкие ломтики говядины с лимоном.', 580.00, 3, 1),
('Крудо', 'Ассорти из свежих рыбы и овощей.', 600.00, 3, 1),
('Крокеты с сыром', 'Жареные крокеты со сливочным сыром.', 290.00, 3, 1);

INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Панна Котта', 'Десерт на основе сливок с ягодным соусом.', 330.00, 4, 1),
('Шоколадный фондан', 'Тёплый десерт с растопленным шоколадом.', 370.00, 4, 1),
('Джелато', 'Классическое итальянское мороженое.', 300.00, 4, 1),
('Сицилийские канноли', 'Хрустящие трубочки с кремом.', 400.00, 4, 1),
('Чизкейк с лимоном', 'Итальянская версия чиза.', 380.00, 4, 1),
('Сабайон', 'Воздушный крем с вином Марсала.', 420.00, 4, 1),
('Кростата с инжиром', 'Пирог из песочного теста.', 450.00, 4, 1),
('Торт из рикотты', 'Плотный, но сладкий.', 410.00, 4, 1);

INSERT INTO dishes (name, description, price, category_id, restaurant_id) VALUES
('Суши с тунцом', 'Свежий тунец на рисовом основании.', 180.00, 6, 2),
('Суши с лососем', 'Лосось на подушке из риса.', 190.00, 6, 2),
('Суши с угрём', 'Копчёный угорь с соусом унаги.', 200.00, 6, 2),
('Суши с креветкой', 'Креветка на подушке из ароматного риса.', 170.00, 6, 2),
('Суши с гребешком', 'Нежный японский гребешок на рисе.', 220.00, 6, 2),
('Суши с окунем', 'Свежий окунь с лёгким лимонным акцентом.', 180.00, 6, 2),
('Суши с крабовым мясом', 'Нежное крабовое мясо с рисом.', 200.00, 6, 2),
('Суши с омлетом Тамаго', 'Японский сладковатый омлет.', 150.00, 6, 2),
('Суши с осьминогом', 'Свежий осьминог с васаби.', 210.00, 6, 2),
('Суши с красной икрой', 'Икра кеты на рисовой основе.', 250.00, 6, 2),
('Суши с кальмаром', 'Ломтики свежего кальмара на рисе.', 190.00, 6, 2),
('Суши с остролистом', 'Экзотический вид рыбы для гурманов.', 230.00, 6, 2),
('Суши с икрой летучей рыбы', 'Яркая икра тобико.', 160.00, 6, 2),
('Суши с морским ежом', 'Нежный морской ёж на рисе.', 300.00, 6, 2),
('Суши с копчёным лососем', 'Лосось подкопчённый, с рисом.', 240.00, 6, 2),
('Суши с фугу', 'Экзотическая рыба-фугу. Приготовлено мастером.', 450.00, 6, 2),
('Суши с белым тунцом', 'Элегантный вкус белого тунца.', 210.00, 6, 2),
('Суши с авокадо', 'Освежающая вегетарианская опция.', 140.00, 6, 2),
('Суши с огурцом', 'Простое и полезное сочетание.', 130.00, 6, 2),
('Суши с сливочным сыром', 'Рисовое основание с мягким сыром.', 150.00, 6, 2),
('Суши с тунцом и авокадо', 'Комбинация тунца и авокадо.', 220.00, 6, 2),
('Суши с крабом и манго', 'Яркое сочетание краба и манго.', 270.00, 6, 2),
('Суши с вяленым лососем', 'Лосось, выдержанный в соли и травах.', 230.00, 6, 2),
('Суши с угрём и авокадо', 'Традиционный угорь с авокадо.', 260.00, 6, 2),
('Суши с копчёной уткой', 'Необычное, но оригинальное блюдо.', 300.00, 6, 2),
('Суши с сливочным лососем', 'Лосось с добавлением сливок.', 240.00, 6, 2),
('Суши с мидиями', 'Рискованно вкусные мидии.', 190.00, 6, 2),
('Суши с гребешками и лимоном', 'Свежие гребешки с цитрусовым оттенком.', 260.00, 6, 2),
('Суши с копчёным осьминогом', 'Подкопчённый осьминог.', 240.00, 6, 2),
('Суши с горчичной икрой', 'Пикантное сочетание.', 180.00, 6, 2),
('Суши с трюфельным маслом', 'Яркий вкус трюфеля.', 280.00, 6, 2),
('Суши с баклажаном', 'Вегетарианский вариант.', 150.00, 6, 2),
('Суши с лососем и лимоном', 'Лосось на рисе с цитрусовой нотой.', 200.00, 6, 2),
('Суши с базиликом и тунцом', 'Свежий тунец с ароматной зеленью.', 220.00, 6, 2),
('Суши с угрём и трюфелем', 'Премиальное сочетание угря и трюфеля.', 350.00, 6, 2),
('Суши с сыром и васаби', 'Необычная, но простая подача.', 200.00, 6, 2),
('Суши с крабом и трюфелем', 'Нежное сочетание краба и трюфеля.', 340.00, 6, 2),
('Суши с тунцом и огурцом', 'Свежий тунец содержит баланс.', 180.00, 6, 2),
('Суши с тигровой креветкой', 'Сочная тигровая креветка.', 300.00, 6, 2),
('Суши с белым осьминогом', 'Основа из белоснежного осьминога.', 260.00, 6, 2);


delete from dishes where id in (
select min(id) from dishes d group by name,category_id having count(*)>1 
);

select  r.name,c.name,count(*)  from restaurants r 
 join categories c  on c.restaurant_id= r.id
 join dishes d on d.category_id = c.id 
group by r.name,c.name
order by 2


 orders definition
INSERT INTO orders (user_id, restaurant_id, status, total_cost, payment_method, comment, updated_at) VALUES
(1, 1, 'completed', 1250.00, 'online', 'Первый заказ, пицца и паста.', DATETIME('now')),
(1, 1, 'completed', 890.00, 'cash', 'Взял пасту и несколько роллов.', DATETIME('now')),
(1, 2, 'completed', 920.00, 'online', 'Попробовал суши с новой начинкой.', DATETIME('now')),
(1, 3, 'completed', 670.00, 'cash', 'Просто закуски с напитком.', DATETIME('now')),
(1, 1, 'completed', 2300.00, 'online', 'Для празднования дня рождения — пиццы, пасты, суши.', DATETIME('now')),
(1, 2, 'cancelled', 1350.00, 'cash', 'По ошибке заказал не в тот день.', DATETIME('now')),
(1, 3, 'completed', 780.00, 'online', 'Лёгкие десерты и кофе.', DATETIME('now')),
(1, 2, 'cart', 450.00, 'online', NULL, DATETIME('now')), -- Заказ в корзине
(1, 1, 'processing', 1800.00, 'cash', 'Ожидаю приготовления заказа.', DATETIME('now')),
(1, 2, 'processing', 640.00, 'online', 'Захотелось чего-то нового.', DATETIME('now'));

-- Заказы от второго пользователя (user_id = 2)
INSERT INTO orders (user_id, restaurant_id, status, total_cost, payment_method, comment, updated_at) VALUES
(2, 2, 'completed', 950.00, 'online', 'Восхитительные суши для ужина.', DATETIME('now')),
(2, 1, 'completed', 670.00, 'cash', 'Пицца для семьи.', DATETIME('now')),
(2, 3, 'new', 450.00, 'online', 'Закуски для перекуса в офисе.', DATETIME('now'));

-- Заказ от третьего пользователя (user_id = 3)
INSERT INTO orders (user_id, restaurant_id, status, total_cost, payment_method, comment, updated_at) VALUES
(3, 2, 'completed', 760.00, 'cash', 'Попробовал сет с суши.', DATETIME('now'));

-- Заказ 1 (user_id = 1, order_id = 1)
INSERT INTO order_items (order_id, dish_id, quantity, price, total, note) VALUES
(1, 1, 2, 480.00, 960.00, 'Пицца Гавайская (2 штуки)'),
(1, 14, 1, 290.00, 290.00, 'Паста с грибами');

-- Заказ 2 (user_id = 1, order_id = 2)
INSERT INTO order_items (order_id, dish_id, quantity, price, total, note) VALUES
(2, 2, 1, 520.00, 520.00, NULL), -- Пицца Диабло
(2, 48, 2, 180.00, 360.00, 'Суши с тунцом (2 порции)');

-- Заказ 3 (user_id = 1, order_id = 3)
INSERT INTO order_items (order_id, dish_id, quantity, price, total, note) VALUES
(3, 47, 1, 190.00, 190.00, NULL), -- Суши с лососем
(3, 50, 2, 170.00, 340.00, 'Суши с креветкой');

-- Заказ 4 (user_id = 1, order_id = 4)
INSERT INTO order_items (order_id, dish_id, quantity, price, total, note) VALUES
(4, 3, 1, 600.00, 600.00, NULL), -- Пицца Мясная
(4, 16, 1, 490.00, 490.00, 'Паста Альфредо');

-- Заказ 5 (user_id = 1, order_id = 5)
INSERT INTO order_items (order_id, dish_id, quantity, price, total, note) VALUES
(5, 1, 1, 480.00, 480.00, NULL), -- Пицца Гавайская
(5, 47, 1, 190.00, 190.00, 'Суши с лососем'),
(5, 2, 2, 520.00, 1040.00, 'Пицца Диабло, 2 шт.');

-- Заказ 6 (user_id = 1, order_id = 6)
INSERT INTO order_items (order_id, dish_id, quantity, price, total, note) VALUES
(6, 50, 1, 170.00, 170.00, 'Суши с креветкой'),
(6, 3, 2, 600.00, 1200.00, 'Пицца Мясная, двойное количество');

-- Заказ 7 (user_id = 1, order_id = 7)
INSERT INTO order_items (order_id, dish_id, quantity, price, total, note) VALUES
(7, 33, 3, 160.00, 480.00, 'Роллы тобико с икрой, 3 шт.'),
(7, 16, 1, 470.00, 470.00, 'Паста с сырным соусом');

-- Заказ 8 (user_id = 1, order_id = 8)
-- Пустая корзина или сохранённый заказ; обновить позже.

-- Заказ 9 (user_id = 1, order_id = 9)
INSERT INTO order_items (order_id, dish_id, quantity, price, total, note) VALUES
(9, 3, 1, 600.00, 600.00, 'Пицца Мясная'),
(9, 48, 1, 180.00, 180.00, 'Суши с тунцом');

-- Заказ 10 (user_id = 1, order_id = 10)
INSERT INTO order_items (order_id, dish_id, quantity, price, total, note) VALUES
(10, 42, 2, 230.00, 460.00, 'Суши с угрём и авокадо');
Заказы от второго пользователя:
-- Заказ 11 (user_id = 2, order_id = 11)
INSERT INTO order_items (order_id, dish_id, quantity, price, total, note) VALUES
(11, 47, 2, 190.00, 380.00, 'Суши с лососем, двойная порция'),
(11, 50, 2, 170.00, 340.00, NULL); -- Суши с креветкой

-- Заказ 12 (user_id = 2, order_id = 12)
INSERT INTO order_items (order_id, dish_id, quantity, price, total, note) VALUES
(12, 1, 1, 480.00, 480.00, 'Пицца Гавайская');

-- Заказ 13 (user_id = 2, order_id = 13)
INSERT INTO order_items (order_id, dish_id, quantity, price, total, note) VALUES
(13, 33, 3, 160.00, 480.00, 'Тобико роллы, 3 упаковки.');
Заказ от третьего пользователя:
-- Заказ 14 (user_id = 3, order_id = 14)
INSERT INTO order_items (order_id, dish_id, quantity, price, total, note) VALUES
(14, 49, 3, 250.00, 750.00, 'Суши с красной икрой, потрясающе.');


-- Три отзыва от первого пользователя (user_id = 1)
INSERT INTO reviews (user_id, restaurant_id, order_id, rating, comment, created_at) VALUES
-- Отзыв на заказ 1 из ресторана 1
(1, 1, 1, 5, 'Пицца и паста были на высшем уровне, горячее и свежее!', DATETIME('now')),
-- Отзыв на заказ 3 из ресторана 2
(1, 2, 3, 4, 'Суши с лососем немного пресные, но креветки понравились.', DATETIME('now')),
-- Отзыв на заказ 7 из ресторана 3
(1, 3, 7, 5, 'Десерты вкусные, персонал вежливый. Вернусь еще.', DATETIME('now'));

-- Один отзыв от второго пользователя (user_id = 2)
INSERT INTO reviews (user_id, restaurant_id, order_id, rating, comment, created_at) VALUES
-- Отзыв на заказ 11 из ресторана 2
(2, 2, 11, 5, 'Суши были свежими и вкусными, доставка быстрая. Рекомендую!', DATETIME('now'));

- Негативный отзыв 1 от пользователя 1 (низкая оценка на заказ из ресторана 2)
INSERT INTO reviews (user_id, restaurant_id, order_id, rating, comment, created_at) VALUES
(1, 2, 6, 1, 'Еда приехала холодной, суши были сухими. Очень разочарован.', DATETIME('now'));

-- Негативный отзыв 2 от пользователя 1 (низкая оценка на заказ из ресторана 1)
INSERT INTO reviews (user_id, restaurant_id, order_id, rating, comment, created_at) VALUES
(1, 1, 9, 2, 'Пицца не соответствует заявленному составу, ингредиенты среднего качества.', DATETIME('now'));

-- Дополнительно : заполнение лого
update restaurants set logo= 'https://assets.turbologo.ru/blog/ru/2019/05/18163916/SAKURA.png' where id = 2;
update restaurants set name='Italian Foods',logo='https://img.freepik.com/premium-vector/italian-food-serving-cap-logo-design-illustration-italian-dining-cover-silhouette-traditional_558723-330.jpg' where id = 1;
update restaurants set name='The Дом',logo='https://cdn.dribbble.com/users/7989192/screenshots/16659898/media/e130237616d1fe40e631812e24646df8.png'  where id = 3;